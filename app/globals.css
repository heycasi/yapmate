@tailwind base;
@tailwind components;
@tailwind utilities;

/* YapMate Industrial Utility System */

@layer base {
  /* System defaults - high contrast, no soft edges */
  html {
    @apply antialiased;
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply bg-yapmate-black text-yapmate-white;
    overscroll-behavior-y: contain;
  }

  /* Support system preference for light/dark with high contrast */
  @media (prefers-color-scheme: light) {
    body {
      @apply bg-yapmate-white text-yapmate-black;
    }
  }

  /* Minimum tap targets for field use */
  button, a {
    @apply min-h-[48px];
  }

  /* Prevent iOS zoom */
  input, select, textarea {
    @apply text-base;
  }

  /* All numeric data uses monospace */
  .mono {
    @apply font-mono;
    font-variant-numeric: tabular-nums;
  }
}

/* BANNED - DO NOT USE THESE CLASSES (kept for backwards compatibility during refactor) */
@layer components {
  /* These will be removed - use industrial utilities instead */
  .card { @apply bg-yapmate-slate-900 p-4; }
  .card-elevated { @apply bg-yapmate-slate-900 p-6; }
  .btn { @apply h-12 px-6; }
  .btn-primary { @apply btn bg-yapmate-amber text-yapmate-black; }
  .btn-secondary { @apply btn border border-yapmate-slate-700 text-yapmate-white; }
  .status-pill { @apply px-2 py-1 text-xs font-semibold uppercase; }
  .status-draft { @apply status-pill; }
  .status-sent { @apply status-pill; }
  .status-paid { @apply status-pill; }
}

/* INDUSTRIAL UTILITY CLASSES */
@layer utilities {
  /* Data Grid System - Full Width Rows */
  .data-grid {
    @apply w-full;
  }

  .data-row {
    @apply w-full flex items-center justify-between;
    @apply border-b border-yapmate-slate-700 dark:border-yapmate-slate-700;
    @apply py-3 px-4;
    @apply transition-colors duration-snap ease-industrial;
  }

  @media (prefers-color-scheme: light) {
    .data-row {
      border-color: theme('colors.yapmate.slate.300');
    }
  }

  .data-row:active {
    @apply bg-yapmate-slate-900;
  }

  @media (prefers-color-scheme: light) {
    .data-row:active {
      @apply bg-gray-100;
    }
  }

  /* Typography Primitives */
  .data-label {
    @apply text-data-label text-yapmate-slate-300 dark:text-yapmate-slate-300 uppercase;
  }

  @media (prefers-color-scheme: light) {
    .data-label {
      @apply text-gray-500;
    }
  }

  .data-value {
    @apply text-data-value font-mono;
  }

  .data-value-lg {
    @apply text-data-value-lg font-mono;
  }

  .section-header {
    @apply text-section-header text-yapmate-slate-300 dark:text-yapmate-slate-300 uppercase;
    @apply border-b border-yapmate-slate-700 dark:border-yapmate-slate-700;
    @apply py-2 px-4;
  }

  @media (prefers-color-scheme: light) {
    .section-header {
      @apply text-gray-600;
      border-color: theme('colors.yapmate.slate.300');
    }
  }

  /* Status Badge - [ TEXT ] Style */
  .status-badge {
    @apply inline-block font-mono text-xs font-semibold;
    @apply px-2 py-1;
  }

  .status-badge::before {
    content: '[ ';
  }

  .status-badge::after {
    content: ' ]';
  }

  .status-paid {
    @apply status-badge text-yapmate-status-green;
  }

  .status-sent {
    @apply status-badge text-yapmate-status-orange;
  }

  .status-draft {
    @apply status-badge text-yapmate-slate-300;
  }

  @media (prefers-color-scheme: light) {
    .status-draft {
      @apply text-gray-500;
    }
  }

  .status-overdue {
    @apply status-badge text-yapmate-status-red;
  }

  /* Bar Button - Full Width Bottom Action */
  .bar-button {
    @apply w-full h-12 flex items-center justify-center;
    @apply bg-yapmate-amber text-yapmate-black;
    @apply font-semibold uppercase tracking-wide text-sm;
    @apply border-none;
    @apply transition-colors duration-snap ease-industrial;
  }

  .bar-button:active {
    @apply bg-yapmate-status-yellow;
  }

  .bar-button:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Safe Areas */
  .pb-safe {
    padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  }

  .pt-safe {
    padding-top: calc(1rem + env(safe-area-inset-top));
  }

  /* Legacy - Landing Page Only */
  .yapmate-glow {
    box-shadow: 0 0 30px rgba(255, 196, 34, 0.3);
  }

  .yapmate-button-hover:hover {
    box-shadow: 0 10px 35px rgba(242, 201, 76, 0.4);
    transform: translateY(-2px);
  }

  .yapmate-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .text-balance {
    text-wrap: balance;
  }
}

/* Legacy animations - landing page only */
@keyframes pulse-glow {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.5; }
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

/* Blog Prose Styles */
.blog-prose {
  @apply text-yapmate-gray-lightest leading-relaxed;
}

.blog-prose h2 {
  @apply text-2xl font-bold text-white mt-12 mb-4 scroll-mt-8;
  font-family: var(--font-space-grotesk);
}

.blog-prose h3 {
  @apply text-xl font-semibold text-white mt-8 mb-3;
  font-family: var(--font-space-grotesk);
}

.blog-prose h4 {
  @apply text-lg font-semibold text-white mt-6 mb-2;
  font-family: var(--font-space-grotesk);
}

.blog-prose p {
  @apply mb-4;
}

.blog-prose a {
  @apply text-yapmate-status-orange hover:underline;
  min-height: auto;
}

.blog-prose ul,
.blog-prose ol {
  @apply mb-4 ml-6 space-y-1;
}

.blog-prose ul {
  @apply list-disc;
}

.blog-prose ol {
  @apply list-decimal;
}

.blog-prose li {
  @apply text-yapmate-gray-lightest;
}

.blog-prose strong {
  @apply text-white font-semibold;
}

.blog-prose blockquote {
  @apply border-l-4 border-yapmate-status-orange/40 pl-4 my-6 text-yapmate-gray-light italic;
  min-height: auto;
}

.blog-prose blockquote a {
  min-height: auto;
}

.blog-prose table {
  @apply w-full my-6 text-sm;
}

.blog-prose th {
  @apply text-left p-2 border-b border-gray-700 text-white font-semibold text-xs uppercase tracking-wider;
}

.blog-prose td {
  @apply p-2 border-b border-gray-800;
}

.blog-prose pre {
  @apply bg-gray-900 border border-gray-800 p-4 my-6 overflow-x-auto text-sm font-mono;
}

.blog-prose code {
  @apply text-yapmate-status-orange;
}

.blog-prose pre code {
  @apply text-yapmate-gray-lightest;
}

.blog-prose hr {
  @apply border-gray-800 my-8;
}
